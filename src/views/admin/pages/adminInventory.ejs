<!DOCTYPE html><html lang="en">    <head>        <meta charset="UTF-8" />        <meta name="viewport" content="width=device-width, initial-scale=1.0" />        <title>WEARiT - Inventory Management</title>        <link            href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"            rel="stylesheet"        />        <link rel="preconnect" href="https://fonts.googleapis.com">        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">        <link            rel="stylesheet"            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"        />        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">        <link rel="stylesheet" href="/css/admin-navbar.css">        <link rel="stylesheet" href="/css/admin-inventory.css">    </head>    <body>        <%- include('../partials/navbar', {activePage: 'inventory'}) %>        <main class="admin-main">            <div class="admin-content">                <% if (locals.success_msg && success_msg.length > 0) { %>                    <div class="alert alert-success alert-dismissible fade show" role="alert">                        <%= success_msg %>                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>                    </div>                <% } %>                <% if (locals.error_msg && error_msg.length > 0) { %>                    <div class="alert alert-danger alert-dismissible fade show" role="alert">                        <%= error_msg %>                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>                    </div>                <% } %>                <div class="inventory-header">                    <h2>Inventory Management</h2>                    <div class="breadcrumb-nav">                        <a href="/admin/dashboard">Dashboard</a>                        <span class="separator">></span>                        <span class="current">Inventory</span>                    </div>                </div>                <div class="inventory-filters">                    <form action="/admin/inventory" method="GET" class="threshold-form">                        <div class="input-group">                            <span class="input-group-text">Low Stock Threshold</span>                            <input type="number" name="threshold" class="form-control" value="<%= threshold %>" min="1" max="100">                            <button type="submit" class="btn btn-primary">Apply</button>                        </div>                    </form>                </div>                <div class="inventory-table-container">                    <table class="inventory-table">                        <thead>                            <tr>                                <th>Product</th>                                <th>Variant</th>                                <th>Current Stock</th>                                <th>Status</th>                                <th>Action</th>                            </tr>                        </thead>                        <tbody>                            <% if (products && products.length > 0) { %>                                <% products.forEach(product => { %>                                    <% product.lowStockVariants.forEach(variant => { %>                                      <tr>                                        <td class="product-cell">                                          <div class="product-info">                                            <img src="<%= product.images && product.images.length > 0 ? product.images[0].url : '/placeholder.svg?height=60&width=60' %>" alt="Product" class="product-img">                                            <div class="product-details">                                              <div class="product-name"><%= product.name %></div>                                              <div class="product-color">Color: <%= product.color %></div>                                            </div>                                          </div>                                        </td>                                        <td class="variant-cell">                                          <%= variant.size %>                                        </td>                                        <td class="stock-cell">                                          <%= variant.quantity %>                                        </td>                                        <td class="status-cell">                                          <% if (variant.quantity === 0) { %>                                            <span class="status-badge status-out">Out of Stock</span>                                          <% } else { %>                                            <span class="status-badge status-low">Low Stock</span>                                          <% } %>                                        </td>                                        <td class="action-cell">                                          <button                                            class="update-stock-btn"                                            data-product-id="<%= product._id %>"                                            data-size="<%= variant.size %>"                                            data-product-name="<%= product.name %>"                                            data-current-stock="<%= variant.quantity %>"                                          >                                            <i class="fas fa-edit"></i> Update Stock                                          </button>                                        </td>                                      </tr>                                    <% }); %>                                  <% }); %>                            <% } else { %>                                <tr>                                    <td colspan="5" class="no-products">No low stock products found</td>                                </tr>                            <% } %>                        </tbody>                    </table>                </div>                <div class="pagination-container">                    <div class="showing-info">                        Showing <%= (currentPage - 1) * limit + 1 %>-<%= Math.min(currentPage * limit, totalProducts) %> from <%= totalProducts %>                    </div>                    <div class="pagination">                        <button class="pagination-btn prev-btn" <%= currentPage === 1 ? 'disabled' : '' %>>                            <i class="fas fa-chevron-left"></i>                        </button>                        <%                            for(let i = 1; i <= totalPages; i++) {                        %>                            <button class="pagination-btn number-btn <%= i === currentPage ? 'active' : '' %>"><%= i %></button>                        <% } %>                        <button class="pagination-btn next-btn" <%= currentPage === totalPages ? 'disabled' : '' %>>                            <i class="fas fa-chevron-right"></i>                        </button>                    </div>                </div>            </div>        </main>        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>        <script src="/js/admin-navbar.js"></script>        <script src="/js/admin-inventory.js"></script>    </body></html>