<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WEARiT | Home</title>

    <!-- Bootstrap CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
        rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="/css/styles.css" />
</head>

<%- include('../partials/header') %>
<section class="hero-banner position-relative m-0 p-0">
    <div class="container-fluid px-0">
        <div class="position-relative">
            <!-- Hero Carousel -->
            <div
                id="heroCarousel"
                class="carousel slide"
                data-bs-ride="carousel"
            >
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img
                            src="/images/banner.jpg"
                            class="d-block w-100"
                            alt="Shirts Collection"
                        />
                    </div>
                    <!-- Additional carousel items -->
                    <div class="carousel-item">
                        <img
                            src="/images/banner2.jpg"
                            class="d-block w-100"
                            alt="Fashion Collection"
                        />
                    </div>
                    <div class="carousel-item">
                        <img
                            src="/images/banner3.png"
                            class="d-block w-100"
                            alt="Summer Collection"
                        />
                    </div>
                </div>
                <!-- Carousel Navigation -->
                <button
                    class="carousel-control-prev"
                    type="button"
                    data-bs-target="#heroCarousel"
                    data-bs-slide="prev"
                >
                    <span
                        class="carousel-control-prev-icon"
                        aria-hidden="true"
                    ></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button
                    class="carousel-control-next"
                    type="button"
                    data-bs-target="#heroCarousel"
                    data-bs-slide="next"
                >
                    <span
                        class="carousel-control-next-icon"
                        aria-hidden="true"
                    ></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</section>

<!-- New Arrivals Section -->
<section class="new-arrivals py-5">
    <div class="container">
        <h2 class="text-center mb-3">New Arrivals</h2>
        <p class="text-center text-muted mb-5">
            Check out our latest collection of trendy and stylish products. Find
            your perfect match from our new arrivals.
        </p>

        <div class="row">
            <% if (typeof products !== 'undefined' && products.length > 0) { %>
            <% products.slice(0, 4).forEach(function(product) { %>
            <div class="col-md-3 mb-4">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <a
                        href="/products/<%= product._id %>"
                        class="text-decoration-none"
                    >
                        <img
                            src="<%= product.images && product.images.length > 0 ? product.images[0] : '/images/placeholder.jpg' %>"
                            class="card-img-top"
                            alt="<%= product.name %>"
                            style="height: 250px; object-fit: cover"
                        />
                        <div class="card-body">
                            <h5 class="card-title"><%= product.name %></h5>
                            <p class="text-muted">
                                <%= product.brand || 'WEARiT' %>
                            </p>
                            <div
                                class="d-flex justify-content-between align-items-center"
                            >
                                <% if (product.discountPrice &&
                                product.discountPrice < product.price) { %>
                                <span class="fw-bold"
                                    >₹<%= product.discountPrice.toFixed(2)
                                    %></span
                                >
                                <span
                                    class="text-decoration-line-through text-muted"
                                    >₹<%= product.price.toFixed(2) %></span
                                >
                                <% } else { %>
                                <span class="fw-bold"
                                    >₹<%= typeof product.price === 'number' ?
                                    product.price.toFixed(2) : product.price
                                    %></span
                                >
                                <% } %> <% if (product.stock <= 5 &&
                                product.stock > 0) { %>
                                <span class="text-warning">Low Stock</span>
                                <% } else if (product.stock <= 0) { %>
                                <span class="text-danger">Out of Stock</span>
                                <% } %>
                            </div>
                            <div class="rating">
                                <% for(var i = 1; i <= 5; i++) { %> <% if (i <=
                                (product.averageRating || 0)) { %>
                                <i class="fas fa-star text-warning"></i>
                                <% } else { %>
                                <i class="far fa-star text-warning"></i>
                                <% } %> <% } %>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <% }); %> <% } else { %>
            <!-- Placeholder products when no data is available -->
            <% for(var i = 0; i < 4; i++) { %>
            <div class="col-md-3 mb-4">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <a href="#" class="text-decoration-none">
                        <img
                            src="/images/image<%= i+1 %>.jpg"
                            class="card-img-top"
                            alt="Product"
                            style="height: 250px; object-fit: cover"
                        />
                        <div class="card-body">
                            <h5 class="card-title">Stylish Item</h5>
                            <p class="text-muted">WEARiT</p>
                            <div
                                class="d-flex justify-content-between align-items-center"
                            >
                                <span class="fw-bold">₹95.50</span>
                                <span class="text-danger">Almost Sold Out</span>
                            </div>
                            <div class="rating">
                                <% for(var j = 0; j < 5; j++) { %>
                                <i class="fas fa-star text-warning"></i>
                                <% } %>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <% } %> <% } %>
        </div>
    </div>
</section>

<!-- Blend Into Nature Banner -->
<section class="nature-banner py-5">
    <div class="container-fluid px-0">
        <div class="position-relative">
            <img
                src="/images/banner2.png"
                class="w-100"
                alt="Blend Into Nature"
            />
            <div class="position-absolute top-50 end-0 translate-middle-y pe-5">
                <h2 class="display-4 text-white script-font">
                    Blend into nature
                </h2>
            </div>
        </div>
    </div>
</section>

<!-- Trending Section -->
<section class="trending py-5">
    <div class="container">
        <h2 class="text-center mb-3">Trending</h2>
        <p class="text-center text-muted mb-5">
            Discover our most popular items that everyone loves. These trending
            products are flying off the shelves!
        </p>

        <div class="row">
            <% if (typeof products !== 'undefined' && products.length > 0) { %>
            <% for (var i = 0; i < Math.min(3, products.length); i++) { var
            product = products[i]; %>
            <div class="col-md-4 mb-4">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <a
                        href="/products/<%= product._id %>"
                        class="text-decoration-none"
                    >
                        <img
                            src="<%= product.images && product.images.length > 0 ? product.images[0] : '/images/placeholder.jpg' %>"
                            class="card-img-top"
                            alt="<%= product.name %>"
                            style="height: 250px; object-fit: cover"
                        />
                        <div class="card-body">
                            <h5 class="card-title"><%= product.name %></h5>
                            <p class="text-muted">
                                <%= product.brand || 'WEARiT' %>
                            </p>
                            <div
                                class="d-flex justify-content-between align-items-center"
                            >
                                <% if (product.discountPrice &&
                                product.discountPrice < product.price) { %>
                                <span class="fw-bold"
                                    >₹<%= product.discountPrice.toFixed(2)
                                    %></span
                                >
                                <span
                                    class="text-decoration-line-through text-muted"
                                    >₹<%= product.price.toFixed(2) %></span
                                >
                                <% } else { %>
                                <span class="fw-bold"
                                    >₹<%= typeof product.price === 'number' ?
                                    product.price.toFixed(2) : product.price
                                    %></span
                                >
                                <% } %> <% if (product.stock <= 5 &&
                                product.stock > 0) { %>
                                <span class="text-warning">Low Stock</span>
                                <% } else if (product.stock <= 0) { %>
                                <span class="text-danger">Out of Stock</span>
                                <% } %>
                            </div>
                            <div class="rating">
                                <% for(var j = 1; j <= 5; j++) { %> <% if (j <=
                                (product.averageRating || 0)) { %>
                                <i class="fas fa-star text-warning"></i>
                                <% } else { %>
                                <i class="far fa-star text-warning"></i>
                                <% } %> <% } %>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <% } %> <% } else { %>
            <!-- Placeholder trending products when no data is available -->
            <% for(var i = 0; i < 3; i++) { %>
            <div class="col-md-4 mb-4">
                <div class="card product-card h-100 border-0 shadow-sm">
                    <a href="#" class="text-decoration-none">
                        <img
                            src="/images/image<%= i+1 %>.jpg"
                            class="card-img-top"
                            alt="Trending Product"
                            style="height: 250px; object-fit: cover"
                        />
                        <div class="card-body">
                            <h5 class="card-title">Trending Item</h5>
                            <p class="text-muted">WEARiT</p>
                            <div
                                class="d-flex justify-content-between align-items-center"
                            >
                                <span class="fw-bold">₹95.50</span>
                                <span class="text-danger">Almost Sold Out</span>
                            </div>
                            <div class="rating">
                                <% for(var j = 0; j < 5; j++) { %>
                                <i class="fas fa-star text-warning"></i>
                                <% } %>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <% } %> <% } %>
        </div>
    </div>
</section>

<!-- Formal Shirts Banner -->
<section class="formal-banner py-5">
    <div class="container-fluid px-0">
        <div class="bg-light py-5">
            <div class="row g-0 align-items-center">
                <div class="col-md-12">
                    <img
                        src="/images/banner3.png"
                        class="img-fluid"
                        alt="Formal Shirt Model"
                    />
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Urban Style Banner -->
<section class="urban-banner">
    <div class="container-fluid px-0">
        <div class="row g-0">
            <div class="col-md-12">
                <img
                    src="/images/banner4.png"
                    class="img-fluid"
                    alt="Urban Style Model"
                />
            </div>
        </div>
    </div>
</section>

<%- include('../partials/footer') %>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
